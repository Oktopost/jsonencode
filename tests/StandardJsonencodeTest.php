<?php
class StandardJsonencodeTest extends JsonencodeTestCase
{
	private const INVALID_STRINGS 		= "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";
	private const EXPECTED_INVALID_JSON = "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B39cdTAwMWMrRr6yWWryG8/SPHBEXHUwMDAyyjxcdTAwMTaed3CGTJl5K42oLKm1WW/7mzTwqeiojHZTtlwv+EzhoOVxI6Nsz+Kpv+zDz9H2vK1gjO007uUhZ2Wkq5crV/CCEhFcL1VcdTAwMTHD0lx1MDAwM1x1MDAwML3oeV6tXHUwMDE3SrRcIiGVi0uMmmzo3bs57nsulZyy6qIYVu4ASlMhNopcZkdUgXXLK5BsZswK5sr5ul/uO+CcLdc80mFcdTAwMTSQ8wvB5dFtXC9ZPWzua1CTinWLR7pcZq+xo9NVXFxiYzBcXNLFIF7xMrrNq7E2/lTiLtN5bGGiXHUwMDFjKfP2mp99bVx1MDAxOXNs8XvI+1x1MDAxN55cdTAwMDZcdTJbN3qSwUdxY7asTFx1MDAxZfGe5DByjjSi8KlEVKtcdTAwMDdcdO5APpjdVfpcblx1MDAxOLbpTFB9XHUwMDAzXHUwMDE18xHeNHGUclx1MDAxM2G/LTXzoffTJVx1MDAxNb9cdTAwMTaJ4Iih5DHSOvMvpnb+Jb2DRlx1MDAwNkmiT71Yz9dt6u62Tc5/U6c+VWIxi4k9jCG1ULtcdI+uXGYsXHUwMDFmoqBp3vk/eZz1XoiXjIWh924jJ5+g+Vx1MDAwM3yv62UrXHUwMDFhXHUwMDE3mk1qyAWBZo1wkFKu5UXQglVcdTAwMDBcdTAwMDVa91x1MDAxZVx1MDAxNTxrVsrjy0NZMHZcZlxcKyjwPNnIXHUwMDAyXHUwMDFh3vRsqjDZ4IrcNfXwUtLsZEhuqTFcwFx0gHL47aiM+Y9BrKaBryhIiaGhqcMNjjO9XHUwMDEyXHUwMDFm/ICq2utcdTAwMDepds9rm1x1MDAxMJJIeyfguX5uXHUwMDAwpaxUXdrpXC9cdTAwMTN7cNwjvlx1MDAxOeIq0u1ak5O9SIWp0CTd8Vx1MDAxOXg75cmQWqGVJ5dE82OsmfaW0F14cPCb44JcdTAwMTV1wNJDOu0U0LxcL1x1MDAxNvfvyo60lSl6XHUwMDE3xWpDzxhenbkr4K5lW1x1MDAxML9cYjVIalx1MDAxOKuhLUlO4/ikN3VcdTAwMTBcdTAwMWFcdTAwMDZ/XHUwMDA138p8jTDTF1x1MDAwNiuyXHUwMDA0NlwvmXSijot3Tu3DooQmpo3lvgG9NFT0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";
	
	
	private static function invalidStr(): string
	{
		return base64_decode(self::INVALID_STRINGS);
	}
	
	private static function invalidStrEncoding($into = null): string
	{
		$str = base64_decode(self::EXPECTED_INVALID_JSON);
		
		if ($into)
			$str = str_replace('{inv}', $str, $into);
		
		return $str;
	}
	
	
	public function test_EmptyArray()
	{
		echo self::EXPECTED_INVALID_JSON;die;
		self::assertValueEncode([]);
	}
	public function test_EmptyObject()
	{
		self::assertValueEncode(new \stdClass());
	}
	public function test_EmptyString()
	{
		self::assertValueEncode('');
	}
	public function test_Null()
	{
		self::assertValueEncode(null);
	}
	
	public function test_Float()
	{
		self::assertValueEncode(0.2);
	}
	
	public function test_Int()
	{
		self::assertValueEncode(12);
	}
	
	public function test_Bool()
	{
		self::assertValueEncode(true);
		self::assertValueEncode(false);
	}
	
	public function test_Array()
	{
		self::assertValueEncode(['a', 'b', 'c']);
	}
	
	
	public function test_Depth()
	{
		self::assertValueEncode(['a' => ['b' => 23]], null, 1);
		self::assertValueEncode(['a' => ['b' => 23]], null, 5);
	}
	
	
	public function test_FlagsPassed()
	{
		self::assertValueEncode('"&<>\'\'×”\'',
			JSON_HEX_QUOT | 
			JSON_HEX_TAG | 
			JSON_HEX_AMP | 
			JSON_HEX_APOS | 
			JSON_UNESCAPED_UNICODE);
	}
	
	
	public function test_InvalidUnicodeStringPassed()
	{
		self::assertSame(self::invalidStrEncoding(), jsonencode(self::invalidStr()));
	}
	
	public function test_InvalidUnicodeStringAsKeyPassed()
	{
		self::assertSame(
			self::invalidStrEncoding('{{inv}:"a"}'), 
			jsonencode([self::invalidStr() => 'a'])
		);
	}
	
	public function test_InvalidUnicodeStringInsideAnArrayPassed()
	{
		self::assertSame(
			self::invalidStrEncoding('{"a":{inv}}'), 
			jsonencode(['a' => self::invalidStr()])
		);
	}
	
	public function test_AssocArrayConvertedCorrectly()
	{
		self::assertValueEncode(['a' => 'a', 'b' => 'b', 'c' => 'c']);
	}
	
	public function test_InconsistentNumericArrayConvertedCorrectly()
	{
		self::assertValueEncode([0 => 'a', 2 => 'b', 1 => 'c']);
	}
	
	public function test_PartiallyNumericArrayConvertedCorrectly()
	{
		self::assertValueEncode([0 => 'a', 'a' => 'b', 2 => 'c']);
		self::assertValueEncode(['a' => 'a', 1 => 'b', 2 => 'c']);
	}
}


